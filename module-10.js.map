{"version":3,"file":"module-10.js","sources":["../src/js/lecture-10.2/02-promisification.js"],"sourcesContent":["//Промисифікація синхронних функцій\n// Promise.resolve()\n// Promise.reject()\n\n/* //Варіанти промисифікації\n{\n  //Повернення промісу\n  {\n    function foo(x, y) {\n      const sum = x + yF;\n\n      const myValue = new Promise(res => {\n        res(sum);\n      });\n\n      return myValue;\n    }\n  }\n  //Повернення промісу\n  {\n    function foo(x, y) {\n      const sum = x + y;\n      return Promise.resolve(sum);\n    }\n  }\n}\n */\n\n/* //Промисифікована функція\n{\n  function createPromise(value, isPositive, delay) {\n    const promise = new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (isPositive) resolve(value);\n        else reject(value);\n      }, delay);\n    });\n\n    return promise; //Функції, яка повертає проміс\n  }\n  //Функції, яка використовує промисифіковану функцію\n  const p1 = createPromise('Promise1', true, 5000);\n  const p2 = createPromise('Promise2', false, 2000);\n  const p3 = createPromise('Promise3', true, 1000);\n  const p4 = createPromise('Promise4', false, 3000);\n  const p5 = createPromise('Promise5', true, 4000);\n\n  function onFulfilled(result) {\n    console.log('fine', result);\n  }\n  function onRejected(result) {\n    console.log('sad', result);\n  }\n\n  p1.then(onFulfilled, onRejected);\n  p2.then(onFulfilled, onRejected);\n  p3.then(onFulfilled, onRejected);\n  p4.then(onFulfilled, onRejected);\n  p5.then(onFulfilled, onRejected);\n} */\n\n//Масив промісів\n{\n  function createPromise(value, isPositive, delay) {\n    const promise = new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (isPositive) resolve(value);\n        else reject(value);\n      }, delay);\n    });\n\n    return promise; //Функції, яка повертає проміс\n  }\n\n  const p1 = createPromise('Promise1', true, 5000);\n  const p2 = createPromise('Promise2', true, 2000);\n  const p3 = createPromise('Promise3', true, 1000);\n  const p4 = createPromise('Promise4', true, 3000);\n  const p5 = createPromise('Promise5', true, 4000);\n\n  const arrPromises = [p1, p2, p3, p4, p5];\n  console.log(arrPromises);\n\n  Promise.all(arrPromises) //Повертає масив значень виконаних промісів (true !!!)\n    .then(values => console.log(values))\n    .catch(error => console.log(error));\n\n  Promise.race(arrPromises) //Повертає перший виконаний проміс (true or false)\n    .then(values => console.log(values))\n    .catch(error => console.log(error));\n\n  Promise.allSettled(arrPromises) //Повертає масив значень виконаних промісів (true or false)\n    .then(values => console.log(values))\n    .catch(error => console.log(error));\n}\n"],"names":["createPromise","value","isPositive","delay","resolve","reject","p1","p2","p3","p4","p5","arrPromises","values","error"],"mappings":"wFA8DA,CACE,IAASA,EAAT,SAAuBC,EAAOC,EAAYC,EAAO,CAQ/C,OAPgB,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC/C,WAAW,IAAM,CACCD,EAAQH,CAAK,CAE9B,EAAEE,CAAK,CACd,CAAK,CAGF,EAED,MAAMG,EAAKN,EAAc,WAAY,GAAM,GAAI,EACzCO,EAAKP,EAAc,WAAY,GAAM,GAAI,EACzCQ,EAAKR,EAAc,WAAY,GAAM,GAAI,EACzCS,EAAKT,EAAc,WAAY,GAAM,GAAI,EACzCU,EAAKV,EAAc,WAAY,GAAM,GAAI,EAEzCW,EAAc,CAACL,EAAIC,EAAIC,EAAIC,EAAIC,CAAE,EACvC,QAAQ,IAAIC,CAAW,EAEvB,QAAQ,IAAIA,CAAW,EACpB,KAAKC,GAAU,QAAQ,IAAIA,CAAM,CAAC,EAClC,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpC,QAAQ,KAAKF,CAAW,EACrB,KAAKC,GAAU,QAAQ,IAAIA,CAAM,CAAC,EAClC,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpC,QAAQ,WAAWF,CAAW,EAC3B,KAAKC,GAAU,QAAQ,IAAIA,CAAM,CAAC,EAClC,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC"}